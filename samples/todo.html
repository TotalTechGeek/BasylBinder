<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<script src="../basylbinder.js"></script>
<style>
    body {
        padding:10px;
    }

    .done-true {
        text-decoration: line-through;
        color: grey;
    }
</style>
<vars text></vars>

<component make type="todo-item">
    <input bind="checked" on-true="true" type="checkbox"/>&nbsp;<label><span class="done-{{checked}}">{{text}}</span></label><br>
</component>

<h1>Todo Example</h1>
<hr>

<br>

<div id="todos"></div>
<input id="text" bind="text" autofocus="autofocus" onkeydown="todoKeyDown(event)"/> <button class="btn" onclick="addTodo()">Add</button>

<script>
    let todos = document.getElementById('todos')
    
    function addTodo()
    {
        $$.make('todo-item', { checked: '', text: $$.get('text') }).appendTo(todos)
    }

    function todoKeyDown(event)
    {
        if((event.which || event.keyCode) === 13)
        {
            addTodo()
            $$.set('text', '')
            event.preventDefault()
        }
    }
</script>

</body>